<template class="phd-search-bar--bulma">
  <require from="../phd-search-bar.css"></require>
  <require from="./phd-search-bar.css"></require>

  <form submit.delegate="_handleSubmit($event)">
    <div class="field is-grouped">
      <div class="control has-icons-left has-icons-right is-expanded">
        <phd-tags-input
          placeholder="New filter"
          tag-removed.delegate="_removeFilter($event.detail)"
          change.delegate="_tagAdded($event.target.value)"
          tags.bind="_tags"
        ></phd-tags-input>
        <span
          style="pointer-events: initial"
          click.trigger="_clear()"
          class="icon is-small is-left"
        >
          <span class="input__icon--clickable" show.bind="!_tags.length"
            >&#128269;</span
          >
          <span class="input__icon--clickable" show.bind="_tags.length"
            >&#215;</span
          >
        </span>
        <span
          click.trigger="_searching=!_searching"
          style="pointer-events: initial"
          class="input__icon--clickable icon is-small is-right"
        >
          &or;
        </span>
      </div>
      <p class="control">
        <button type="submit" class="button is-primary">Search</button>
      </p>
    </div>
  </form>
  <div show.bind="_searching" class="form__overlay_wrapper">
    <form class="form__overlay">
      <slot> </slot>
    </form>
  </div>
</template>
